process L1SKIM = {

  # initialize  MessageLogger
  include "FWCore/MessageService/data/MessageLogger.cfi"
  replace MessageLogger.cout.threshold = "ERROR"
  replace MessageLogger.cerr.default.limit = 10

  source = PoolSource {
    untracked vstring fileNames = {
  '/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0000/B66C6F52-46BB-DB11-85D6-00304823A4C1.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0001/1C1304CA-E8BE-DB11-B145-0030487183DF.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0001/6A9FD562-B8BE-DB11-878F-003048718427.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0001/7CDE6026-78BE-DB11-83F6-00304858A6FD.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0001/D2AB254B-75BE-DB11-8463-003048245903.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0000/7453799F-3BBB-DB11-A709-003048718425.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0000/7CAC11DF-6BBB-DB11-BBC2-0030487184D6.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0000/8E09728E-83BB-DB11-BFC1-0030487184D6.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0001/1698ACFB-BCBE-DB11-B5B5-00304858A6EB.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0001/2EA29E31-F5BE-DB11-8DFE-00304870E417.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0001/72F63D03-D8BE-DB11-9935-0030487183DF.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0001/A0EEF3B2-ECBE-DB11-A65E-003048718313.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0001/BA3E82FF-9DBE-DB11-A87E-0030487184D6.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0001/C2A7A49F-C4BE-DB11-AE65-00304858A701.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0001/EC202202-8DBE-DB11-B725-00304858A6B3.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0001/FC37FC22-89BE-DB11-AE3C-003048718195.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0000/0AB4F577-27BB-DB11-92DD-00304858A6EB.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0000/42EC42B3-2EBB-DB11-AEF0-00304858A6C9.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0000/4C118C72-83BB-DB11-936C-00304858A733.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0000/D611A727-47BB-DB11-87E8-0030485C81FA.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0001/40A93939-ADBE-DB11-981D-00304858A719.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0001/D6B202BB-CCBE-DB11-8C77-00304858A6A7.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0000/DEEECC0C-84BB-DB11-83F8-003048245831.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0000/E8C30871-32BB-DB11-928E-00304858A6EB.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0001/3E3BE25B-E3BE-DB11-9050-00304858A521.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0000/0E455CE7-B1BB-DB11-AAF0-003048245903.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0000/C2A63684-2FBB-DB11-AC6C-00304858A6EB.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0001/0A255B59-9EBE-DB11-9B91-00304858A719.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0001/0ECF42DB-DBBE-DB11-BC9D-00304870E4CD.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0001/1005731F-DFBE-DB11-AB0C-0030487183DF.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0001/1A3845B2-ECBE-DB11-A316-003048718425.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0001/38349B05-C0BE-DB11-ABCA-003048245963.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0001/A212A963-7FBE-DB11-9CF4-00304871858B.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0001/C64B07C7-C4BE-DB11-A2C5-00304858A507.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0001/D842A8A3-C5BE-DB11-96E2-003048245963.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0001/E852BF58-C0BE-DB11-B6F5-00304858A553.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0001/F8FDA29A-DFBE-DB11-8760-00304871842F.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0000/04B5CD4C-3EBB-DB11-9235-00304871829B.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0000/7CE5E780-42BB-DB11-9CB4-00304858A655.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0001/50C5FCB8-ACBE-DB11-B7DB-00304858A701.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0001/647CB83B-E4BE-DB11-B16F-00304858A6C9.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0001/90FD8724-BBBE-DB11-994E-003048245963.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0001/947DAFE2-B5BE-DB11-A6FC-00304858A733.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0001/C0AAB266-80BE-DB11-B6A8-00304858A6FD.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0001/DC6CCF9B-B9BE-DB11-BD22-00304858A655.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0000/103F7B13-34BB-DB11-AA32-00304870E419.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0000/E46222EA-2CBB-DB11-967E-003048718169.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0001/4A3D8A94-BDBE-DB11-94AE-00304858A6A5.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0001/58E40288-79BE-DB11-A042-003048718313.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0001/6223B866-ECBE-DB11-A811-00304870E417.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0001/7A58E962-B8BE-DB11-9F79-00304858A553.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0001/9039801F-B9BE-DB11-B3D0-00304871818B.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0001/90E58646-80BE-DB11-A3BD-00304858A507.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0001/927CC953-B0BE-DB11-840E-00304858A6A7.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0001/CACE9F80-B9BE-DB11-A616-00304858A6A5.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0001/D2336A1F-89BE-DB11-ACB5-00304871EBC7.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0001/E615AFE5-E6BE-DB11-BD79-0030487182F3.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0000/229A7598-29BB-DB11-A543-00304858A6C9.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0000/8E17F9A4-3FBD-DB11-81C1-00304858A6EB.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0000/92AC0DC2-3DBD-DB11-9692-003048718529.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0001/AC23AB6D-76BE-DB11-AEE7-003048718427.root',
'/store/mc/2007/1/26/mc-onsel-120_PU_Minbias-DIGI-RECO-NoPU/0001/F4746693-BABE-DB11-AA5B-00304858A6B3.root'
    }
    untracked int32 maxEvents = 10000 
  }

  #include "Configuration/StandardSequences/data/Reconstruction.cff"
  include "Configuration/StandardSequences/data/Simulation.cff"
  include "Configuration/StandardSequences/data/MixingNoPileUp.cff"
  #include "Configuration/StandardSequences/data/FakeConditions.cff"
  
  include "L1Trigger/L1ExtraFromDigis/data/l1extra.cff"
  
  module osFilter = OnlineSelectionFilter {
    InputTag gtReadoutSource = l1extraParticleMap
  }

#  module eca = EventContentAnalyzer{}

#  path filterPath = { l1emulator, l1extra, osFilter, pdigi }
# remove digi step for now:
  path filterPath = { l1emulator, l1extra, osFilter}

  module l1tOutput = PoolOutputModule {
    untracked vstring outputCommands = { 
      "drop *", 
      "keep edmHepMCProduct_*_*_*",
      "keep L1*_*_*_*",
      "keep EcalTrigger*_*_*_*",
      "keep HcalTrigger*_*_*_*",
      "keep *_l1extraParticleMap_*_*",
      "keep *_l1extraParticles_*_*"
    }
    untracked string fileName = "testL1TOutput.root"
  }
  
  module hltOutput = PoolOutputModule {
    untracked vstring outputCommands = { 
      "drop *", 
      "keep edmHepMCProduct_*_*_*",
      "keep *_g4SimHits_*_*",
      "keep *_*_*_L1SKIM",
      "drop Crossing*_*_*_*",
      "drop *_ecalUnsuppressedDigis_*_*",
      "drop L1*_*_*_*",
      "drop EcalTrigger*_*_*_*",
      "drop HcalTrigger*_*_*_*",
      "drop *_l1extraParticleMap_*_*",
      "drop *_l1extraParticles_*_*",	
      "drop *CSCTriggerContainer_*_*_*"
    }
    untracked string fileName = "testHLTOutput.root"
    untracked PSet SelectEvents = { vstring SelectEvents = { "filterPath" } }
  }

  endpath l1t = {l1tOutput}
  endpath hlt = {hltOutput}

}
