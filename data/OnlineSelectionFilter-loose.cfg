process L1SKIM = {

  # initialize  MessageLogger
  include "FWCore/MessageService/data/MessageLogger.cfi"
  replace MessageLogger.cout.threshold = "ERROR"
  replace MessageLogger.cerr.default.limit = 10

  source = PoolSource {
    untracked vstring fileNames = {
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_50_80/0017/FACF4422-E697-DB11-9C9A-00E08133CDA0.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_50_80/0020/12F5EDB3-FA9C-DB11-919D-00E081339574.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_50_80/0020/1880215E-FA9C-DB11-9134-00E08134E3FE.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_50_80/0020/1AFD1B17-BE9C-DB11-B2E6-00E0813267E6.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_50_80/0020/1C27366B-E79C-DB11-8AFB-00E0813266B2.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_50_80/0020/20A79D68-F99C-DB11-AAF4-00E08134E38E.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_50_80/0020/28ADBEFC-E59C-DB11-8773-00E08132873A.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_50_80/0020/3CC626AF-F89C-DB11-BCA2-00E0813395C0.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_50_80/0020/44305476-F19C-DB11-96F9-00E08133D49E.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_50_80/0020/481ABE43-F99C-DB11-AFF9-00E08133D4A2.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_50_80/0020/4CA67EB4-6C9F-DB11-AEB4-00E0813266A6.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_50_80/0020/58A8FCBF-EB9C-DB11-8D6A-00E08133D4A2.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_50_80/0017/F8FE12AF-1C98-DB11-A0C0-00E08132873A.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_50_80/0020/6EDF359D-FB9C-DB11-950E-00E081345B96.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_50_80/0020/72FF7937-EA9C-DB11-A111-00E08132667E.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_50_80/0020/8609452F-F59C-DB11-A156-00E08134C310.root',
'/store/mc/2006/12/21/mc-onsel-120_QCD_pt_50_80/0020/A432D669-E79C-DB11-BB2B-00E0813266C8.root'
    }
    untracked int32 maxEvents = 20 
  }

  include "Configuration/StandardSequences/data/Simulation.cff"
  include "Configuration/StandardSequences/data/MixingNoPileUp.cff"  
  include "L1Trigger/L1ExtraFromDigis/data/l1extraSkim.cff"
  
  module osFilter = OnlineSelectionFilter {
    InputTag gtReadoutSource = l1extraParticleMapSkim
  }


  path filterPath = { pdigi, l1emulator, l1extra, osFilter}

  module l1tOutput = PoolOutputModule {
    untracked vstring outputCommands = { 
      "drop *", 
      "keep edmHepMCProduct_*_*_*",
      "keep L1*_*_*_*",
      "keep EcalTrigger*_*_*_*",
      "keep HcalTrigger*_*_*_*",
      "keep *_l1extraParticleMap_*_*",
      "keep *_l1extraParticles_*_*"
    }
    untracked string fileName = "testL1TOutputLoose.root"
  }
  
  module hltOutput = PoolOutputModule {
    untracked vstring outputCommands = { 
      "drop *", 
      "keep edmHepMCProduct_*_*_*",
      "keep *_g4SimHits_*_*",
      "keep *_*_*_L1SKIM",
      "drop Crossing*_*_*_*",
      "drop *_ecalUnsuppressedDigis_*_*",
      "drop EcalTrigger*_*_*_*",
      "drop *CSCTriggerContainer_*_*_*",
      "drop *_dttpgprod_*_*"
    }
    untracked string fileName = "testHLTOutputLoose.root"
    untracked PSet SelectEvents = { vstring SelectEvents = { "filterPath" } }
  }

  endpath l1t = {l1tOutput}
  endpath hlt = {hltOutput}

}
